<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
		xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
		xmlns:h="http://xmlns.jcp.org/jsf/html"
		xmlns:f="http://xmlns.jcp.org/jsf/html"
		xmlns:p="http://primefaces.org/ui"
		xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
		template="/templates/template.xhtml">
		

	<ui:define name="cabecalho">
		<ui:include src="/includes/cabecalho.xhtml"/>
	</ui:define>
	<ui:define name="menulateral">
		<ui:include src="/includes/menu.xhtml"/>
	</ui:define>
	<ui:define name="conteudo">
		<h1 style="font-family: sans -serif; text-align: center;"> .:: Blog of Thrones</h1>
		<hr></hr>
		<h2>Bem Vindo</h2>
		<h:panelGrid id="pgButton" cellpadding="5" columns="2">
			<b>Acompanhe os posts mais recentes abaixo</b>
			<br></br>
			<p:commandButton value="Carregar Posts" actionListener="#{postBean.inicializar}" update="fTabela:tblPosts"/>
		</h:panelGrid>
		<br></br>
		<h:panelGrid id="pgPrincipal" cellpadding="5" columns="3">
		<h:form id="fTabela">
			<p:dataTable id="tblPosts" var="post" value="#{postBean.posts}" rows="10"
				paginator="true" emptyMessage="Nenhum registro encontrado!"
				paginatorTempate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLink} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				rowsPerPageTemplate = "5,10,15">
			
			<p:column headerText="Id" filterBy="#{post.idPost}" filterMatchMode="contains">
	        	<h:outputText value="#{post.idPost}" />
	    	</p:column>
	    	<p:column headerText="Titulo Post" filterBy="#{post.tituloPost}" filterMatchMode="contains">
	       		<h:outputText value="#{post.tituloPost}" />
	   		</p:column>
	    	<p:column headerText="Opções">
	    	<center>
	        	<p:commandButton icon="ui-icon-comment" action="#{postBean.prepararDetalharPost(post.idPost,post.tituloPost,post.texto)}"/>
	    	</center>
	    	</p:column>
			</p:dataTable>
		</h:form>
		
		</h:panelGrid>
	</ui:define>
	<ui:define name="rodape">
		<ui:include src="/includes/rodape.xhtml"/>
	</ui:define>
	
</ui:composition>